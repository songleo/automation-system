---
- name: Launch job
  hosts: localhost
  gather_facts: false
  collections:
    - awx.awx
  tasks:
    - name: Launch job
      awx.awx.job_launch:
        job_template: ping-host
      register: job_info

    - name: Wait for the job to finish
      awx.awx.job_wait:
        job_id: "{{ job_info.id }}"
      register: job_result

    - name: Print the job result
      ansible.builtin.debug:
        var: job_result
